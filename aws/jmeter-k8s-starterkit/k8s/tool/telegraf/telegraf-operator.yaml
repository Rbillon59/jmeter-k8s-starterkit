apiVersion: v1
kind: Namespace
metadata:
  name: telegraf-operator
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: telegraf-operator
  namespace: telegraf-operator
  labels:
    app: telegraf-operator
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: telegraf-operator
  labels:
    app: telegraf-operator
rules:
  - apiGroups: [""]
    resources: ["secrets"]
    verbs: ["*"]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: telegraf-operator
  labels:
    app: telegraf-operator
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: telegraf-operator
subjects:
  - kind: ServiceAccount
    name: telegraf-operator
    namespace: telegraf-operator
---
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: telegraf-operator
  namespace: telegraf-operator
  labels:
    app: telegraf-operator
webhooks:
  - name: telegraf.influxdata.com
    # enable the example below to limit to namespaces with specific labels only
    # namespaceSelector:
    #   matchLabels:
    #     controller: telegraf-operator
    admissionReviewVersions: ["v1beta1", "v1"]
    sideEffects: None
    clientConfig:
      service:
        name: telegraf-operator
        namespace: telegraf-operator
        path: "/mutate-v1-pod"
      caBundle: Q2VydGlmaWNhdGU6CiAgICBEYXRhOgogICAgICAgIFZlcnNpb246IDMgKDB4MikKICAgICAgICBTZXJpYWwgTnVtYmVyOiAxICgweDEpCiAgICAgICAgU2lnbmF0dXJlIEFsZ29yaXRobTogc2hhMjU2V2l0aFJTQUVuY3J5cHRpb24KICAgICAgICBJc3N1ZXI6IEM9VVMsIFNUPU1hcnlsYW5kLCBMPUJhbHRpbW9yZSwgTz1UZXN0IENBLCBMaW1pdGVkLCBPVT1TZXJ2ZXIgUmVzZWFyY2ggRGVwYXJ0bWVudCwgQ049VGVzdCBDQS9lbWFpbEFkZHJlc3M9dGVzdEBleGFtcGxlLmNvbQogICAgICAgIFZhbGlkaXR5CiAgICAgICAgICAgIE5vdCBCZWZvcmU6IE1heSAxMSAyMjoyNjoyNyAyMDIxIEdNVAogICAgICAgICAgICBOb3QgQWZ0ZXIgOiBGZWIgIDUgMjI6MjY6MjcgMjAyNCBHTVQKICAgICAgICBTdWJqZWN0OiBDPVVTLCBTVD1NRCwgTD1CYWx0aW1vcmUsIE89VGVzdCBTZXJ2ZXIsIExpbWl0ZWQsIENOPVRlc3QgU2VydmVyCiAgICAgICAgU3ViamVjdCBQdWJsaWMgS2V5IEluZm86CiAgICAgICAgICAgIFB1YmxpYyBLZXkgQWxnb3JpdGhtOiByc2FFbmNyeXB0aW9uCiAgICAgICAgICAgICAgICBSU0EgUHVibGljLUtleTogKDIwNDggYml0KQogICAgICAgICAgICAgICAgTW9kdWx1czoKICAgICAgICAgICAgICAgICAgICAwMDphZDo4ZToxYTozYToyYzpjNDo1NDpjMzphZDo3YjpkNjpjYTowMjpkYzoKICAgICAgICAgICAgICAgICAgICA5NTpmNTo1NzpmMTo3MTpkOTowNDphODplNzpmNDoyMTo4ZTpjODoxYjplYToKICAgICAgICAgICAgICAgICAgICA1Nzo2Njo5ZDo2ZDpiMzozOTo2NzphYzo0ZTo5OTozNDo5NTplNTo1YTpmNToKICAgICAgICAgICAgICAgICAgICA5Yjo3ZTo2MDo3Yzo1MDo5Zjo5OTozYzphZTo2YTowZTpjZjo2MDoxNzoxMjoKICAgICAgICAgICAgICAgICAgICAwMzo2OTozNjo0Yzo3OTpiOTo0ZjplZjo0NTo3Njo3MTozMzplMzpmZDo1OToKICAgICAgICAgICAgICAgICAgICBjNTozMzowYjo3ODozZDo0NDphNTo1NDowNzphMzpiMzphMDpiNTozNzpiMjoKICAgICAgICAgICAgICAgICAgICA0ODozZjo4NTozYzo0ZDo1NjphYzplNTpkMTozMzo0Mzo1NTo3ZTozNDoyNjoKICAgICAgICAgICAgICAgICAgICAyNjphNjoxZjozNTpjMTo4Zjo3ODo0ZDpjYjozNTo4ZTo4YTo2NzpiMTpmMToKICAgICAgICAgICAgICAgICAgICBmYjpjNzpjYTowYTplOTplNDpmZDoyZTplNDo4YTpjMzpkMDo3NjpjOTo5ZDoKICAgICAgICAgICAgICAgICAgICAzMjpmYTo3Mjo3YjphNDowYzo0Zjo0Mzo5ZDo5ODoxNjowYToyNDo4Mzo2NToKICAgICAgICAgICAgICAgICAgICBmZDpmYjoxZDo3YTpjYTpiNToyODphMzo3YzpiNTpmMzo4NzplNDo3ZjpiNDoKICAgICAgICAgICAgICAgICAgICAxMTozMDpiMzoyMzplYzoxZTo2ODo1ODpjMjo4MTpmZDo1ZDpkNTozMzo2ODoKICAgICAgICAgICAgICAgICAgICA3ODpmMjoyYzoxNjpiYzoyZTo4Yjo4NTo0OTo3MzowNTo3NDo3ODo4NDo3MjoKICAgICAgICAgICAgICAgICAgICA2OTo0NDo3Zjo1NDpkOTo4NTo0OTo5Mzo0Nzo5Yzo5YTo5MjpjMTplNjplOToKICAgICAgICAgICAgICAgICAgICAzNjo2MTpkNTo1Mzo4NToyMDo2NTo3NDpiMToyZjo0MDpiMDpmNjo3MzphYToKICAgICAgICAgICAgICAgICAgICBiNDplYzo5YjoyMjpjNTo3Yjo5OTpjNTo1MDo4NjoxNTpiMzo2Zjo2Nzo3ZDoKICAgICAgICAgICAgICAgICAgICBkNTowMjplYjoyMTozMDpkMTo1OTpkZDo1MjphNDplMTphNDo2MjowYzpkMToKICAgICAgICAgICAgICAgICAgICA4YjpkOQogICAgICAgICAgICAgICAgRXhwb25lbnQ6IDY1NTM3ICgweDEwMDAxKQogICAgICAgIFg1MDl2MyBleHRlbnNpb25zOgogICAgICAgICAgICBYNTA5djMgU3ViamVjdCBLZXkgSWRlbnRpZmllcjogCiAgICAgICAgICAgICAgICAxODozQzo1MzpCOTpBMjpGODpDNjo1QjpBQTowRjpGQzoyRDo1MDoyQjpGQjpEMzpFQjowNDpBRDpGNAogICAgICAgICAgICBYNTA5djMgQXV0aG9yaXR5IEtleSBJZGVudGlmaWVyOiAKICAgICAgICAgICAgICAgIGtleWlkOkRCOkFCOkJGOkI4OjIyOjBGOjhFOjdFOkY2OjAyOjJCOkI2OjBBOkNFOjc1OjZBOkNGOjAyOkZBOjMxCgogICAgICAgICAgICBYNTA5djMgQmFzaWMgQ29uc3RyYWludHM6IAogICAgICAgICAgICAgICAgQ0E6RkFMU0UKICAgICAgICAgICAgWDUwOXYzIEtleSBVc2FnZTogCiAgICAgICAgICAgICAgICBEaWdpdGFsIFNpZ25hdHVyZSwgS2V5IEVuY2lwaGVybWVudAogICAgICAgICAgICBYNTA5djMgU3ViamVjdCBBbHRlcm5hdGl2ZSBOYW1lOiAKICAgICAgICAgICAgICAgIEROUzp0ZWxlZ3JhZi1vcGVyYXRvci50ZWxlZ3JhZi1vcGVyYXRvci5zdmMsIEROUzp0ZWxlZ3JhZi1vcGVyYXRvci5zdmMKICAgICAgICAgICAgTmV0c2NhcGUgQ29tbWVudDogCiAgICAgICAgICAgICAgICBPcGVuU1NMIEdlbmVyYXRlZCBDZXJ0aWZpY2F0ZQogICAgU2lnbmF0dXJlIEFsZ29yaXRobTogc2hhMjU2V2l0aFJTQUVuY3J5cHRpb24KICAgICAgICAgNWE6ZTc6MWE6NGY6MWM6Y2E6MWI6NmY6YTM6ZjQ6ZjE6ZmM6NzA6ZmY6ODA6NTg6NzM6ZDM6CiAgICAgICAgIDc5Ojc4OmE3OmEyOmU2OmNjOmNjOjJiOmFkOmViOjMwOmYyOmQxOjI4OjEzOjk2OmI1OmIxOgogICAgICAgICAyZjoxMToxOTpmMTplMjpjOToyZDpmMTplYzo3NzoxNzo0NTpjNTpkNzo4OTo4Njo0MDo3YToKICAgICAgICAgZjk6ZTI6MWU6OTg6MDI6ZGY6Yjc6ZjE6ZDg6NzQ6NGQ6NzA6MjA6YjE6YWU6MTQ6N2M6ZjM6CiAgICAgICAgIDU3OmIyOjY3OjYxOjViOjdlOmVmOjY2OjkwOjdiOjJkOjQxOjUyOmU3OjA2OjcxOjEwOjA1OgogICAgICAgICA4YTo4Njo5ZDpmYTozODo2NzphYjowMjpmODpiNzo0MzpjMzo5YzpkOTpkOTo0ZTplZjoxZToKICAgICAgICAgYWI6OWY6MmI6N2U6ODU6OWU6Zjc6NWQ6Yzk6ZTk6MzE6MmE6ODA6Zjg6MWI6ZjI6YTc6NjE6CiAgICAgICAgIGMzOjBmOmRkOmMyOjI2OmMxOmQ2OjU0OjYyOjAwOjYzOjVjOmE4OmU4Ojk1Ojg1OmI2OmZiOgogICAgICAgICA0MzpiNDozNTo0OTpiMDozOTozZTozYTo4ZDpmYzo3YzpkNjo3ZTo0ODo0Mzo1YjowYjo3MDoKICAgICAgICAgOGE6OTE6OWM6NTQ6NTg6NTA6ZjE6MjE6ZmQ6ZWU6MmI6Zjc6NDg6ZjA6N2M6NDQ6Mzc6ZjU6CiAgICAgICAgIDBmOmQ3OmYwOjliOjg0OjAwOjBhOmE2OjU5OjkyOjBkOmY2OjgzOmEzOmYzOjk1OjJmOmU2OgogICAgICAgICBlNzplZTphNzoyNDoxNTo1Yzo1ZjpkYTplOTpjZjpiMDpjNTo0NzpkNTo2Yjo2MTpmMDpkYjoKICAgICAgICAgZjY6NTk6ODY6M2Q6YWY6ZTg6ZDI6M2U6Y2M6NzU6MzI6YjM6NTQ6NmE6NDc6MDc6Mjk6ZTQ6CiAgICAgICAgIGE2OjUzOjQ1OjA1OjUwOjcxOjZhOmZkOjdiOjY3OmQwOjNkOmM3OjU1OjYwOjk2OjhlOmNhOgogICAgICAgICAwZToxYjowZTo2NDo5Yjo5Nzo2NTpiZjo0OTplOTpkMjo1NDoyODo2MjpmZDo2OTo4ZDplMDoKICAgICAgICAgMDY6Y2Y6MTY6YTE6OGI6MTA6Mjk6MzI6NzI6MzI6Nzc6MGY6YzY6N2M6MjA6N2Y6ZDA6OWY6CiAgICAgICAgIDZiOjRiOjY5OjRkOjVkOmViOjA5OmJjOjhlOmE0OmZkOmE1OjNlOjBhOmJhOjczOmZhOjA3OgogICAgICAgICBiODo4NjowZjpjZDozNjplNjoxMjpkYzphYzpiZjpkMDpkODpmNTphOTo3MDphZTpiMTpjZjoKICAgICAgICAgY2E6OTQ6ZmI6Y2U6Yzc6M2U6OTM6MTU6ZjQ6YmU6NmQ6ZDY6NTM6M2U6MjM6YjM6ZmQ6N2Y6CiAgICAgICAgIDAyOjczOmFhOmVlOmJjOjVhOmE5OjMzOmUzOjU0OmM0Ojk4OjkwOmY0Ojg2OjZjOmUzOjg2OgogICAgICAgICBmYTpjODpkYjozOTo5OTo1MDo2MjoxZDowZjpjNDo3NTplNzo5MjphMzpiMDpmNDpjMjo0NDoKICAgICAgICAgMjc6Njg6MWI6MzE6NWI6YWQ6N2Q6ODA6Y2M6Y2I6Mjk6N2Y6M2Q6YjE6NGM6ZGU6Y2I6MTU6CiAgICAgICAgIDRiOmMwOmJjOmM0OjMwOmVmOjE0OmUwOjQyOjExOmM3OjA3OjUwOjBlOmU3OmVjOjMxOmQzOgogICAgICAgICAxNDpkZjoxZTpmODplMzplYzo5YjpjNjo1OTo4NTpkMjpmOTpkMzo4Yzo5ODphMjpkYzo4ZDoKICAgICAgICAgN2Q6NDA6MjQ6Yzc6Njk6OWU6MWY6OGY6YWI6YmQ6Yjg6YmE6MGU6OGE6MGQ6MjY6MTE6YmU6CiAgICAgICAgIGZlOjhiOjRlOmE3OjhhOjJmOjg2OjRmOjI2OjI5OmUxOmJhOmU2OjBjOmMwOmVmOjQwOjA4OgogICAgICAgICA5YzplZToxMDpmMDpiNTo0ODpkNjpkZDoxYTo5Njo5YToxMTowNToxZjo4NTo3Mjo4Yzo1MzoKICAgICAgICAgOWI6MjU6MjI6MDk6N2E6NTg6YjY6YTM6MWI6MjQ6MDg6ZGY6YzQ6NTA6YTU6MGE6YTU6ZjA6CiAgICAgICAgIGY4Ojg3OmY3OjkyOmE0Ojc0OmQyOmRkCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGV3pDQ0EwT2dBd0lCQWdJQkFUQU5CZ2txaGtpRzl3MEJBUXNGQURDQnB6RUxNQWtHQTFVRUJoTUNWVk14CkVUQVBCZ05WQkFnTUNFMWhjbmxzWVc1a01SSXdFQVlEVlFRSERBbENZV3gwYVcxdmNtVXhHVEFYQmdOVkJBb00KRUZSbGMzUWdRMEVzSUV4cGJXbDBaV1F4SXpBaEJnTlZCQXNNR2xObGNuWmxjaUJTWlhObFlYSmphQ0JFWlhCaApjblJ0Wlc1ME1SQXdEZ1lEVlFRRERBZFVaWE4wSUVOQk1SOHdIUVlKS29aSWh2Y05BUWtCRmhCMFpYTjBRR1Y0CllXMXdiR1V1WTI5dE1CNFhEVEl4TURVeE1USXlNall5TjFvWERUSTBNREl3TlRJeU1qWXlOMW93WXpFTE1Ba0cKQTFVRUJoTUNWVk14Q3pBSkJnTlZCQWdNQWsxRU1SSXdFQVlEVlFRSERBbENZV3gwYVcxdmNtVXhIVEFiQmdOVgpCQW9NRkZSbGMzUWdVMlZ5ZG1WeUxDQk1hVzFwZEdWa01SUXdFZ1lEVlFRRERBdFVaWE4wSUZObGNuWmxjakNDCkFTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSzJPR2pvc3hGVERyWHZXeWdMY2xmVlgKOFhIWkJLam45Q0dPeUJ2cVYyYWRiYk01WjZ4T21UU1Y1VnIxbTM1Z2ZGQ2ZtVHl1YWc3UFlCY1NBMmsyVEhtNQpUKzlGZG5FejQvMVp4VE1MZUQxRXBWUUhvN09ndFRleVNEK0ZQRTFXck9YUk0wTlZmalFtSnFZZk5jR1BlRTNMCk5ZNktaN0h4KzhmS0N1bmsvUzdraXNQUWRzbWRNdnB5ZTZRTVQwT2RtQllLSklObC9mc2Rlc3ExS0tOOHRmT0gKNUgrMEVUQ3pJK3dlYUZqQ2dmMWQxVE5vZVBJc0Zyd3VpNFZKY3dWMGVJUnlhVVIvVk5tRlNaTkhuSnFTd2VicApObUhWVTRVZ1pYU3hMMEN3OW5PcXRPeWJJc1Y3bWNWUWhoV3piMmQ5MVFMcklURFJXZDFTcE9Ha1lnelJpOWtDCkF3RUFBYU9CMURDQjBUQWRCZ05WSFE0RUZnUVVHRHhUdWFMNHhsdXFEL3d0VUN2NzArc0VyZlF3SHdZRFZSMGoKQkJnd0ZvQVUyNnUvdUNJUGpuNzJBaXUyQ3M1MWFzOEMrakV3Q1FZRFZSMFRCQUl3QURBTEJnTlZIUThFQkFNQwpCYUF3U1FZRFZSMFJCRUl3UUlJbmRHVnNaV2R5WVdZdGIzQmxjbUYwYjNJdWRHVnNaV2R5WVdZdGIzQmxjbUYwCmIzSXVjM1pqZ2hWMFpXeGxaM0poWmkxdmNHVnlZWFJ2Y2k1emRtTXdMQVlKWUlaSUFZYjRRZ0VOQkI4V0hVOXcKWlc1VFUwd2dSMlZ1WlhKaGRHVmtJRU5sY25ScFptbGpZWFJsTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFCYQo1eHBQSE1vYmI2UDA4Znh3LzRCWWM5TjVlS2VpNXN6TUs2M3JNUExSS0JPV3RiRXZFUm54NHNrdDhleDNGMFhGCjE0bUdRSHI1NGg2WUF0KzM4ZGgwVFhBZ3NhNFVmUE5Yc21kaFczN3ZacEI3TFVGUzV3WnhFQVdLaHAzNk9HZXIKQXZpM1E4T2MyZGxPN3g2cm55dCtoWjczWGNucE1TcUErQnZ5cDJIREQ5M0NKc0hXVkdJQVkxeW82SldGdHZ0RAp0RFZKc0RrK09vMzhmTlorU0VOYkMzQ0trWnhVV0ZEeElmM3VLL2RJOEh4RU4vVVAxL0NiaEFBS3BsbVNEZmFECm8vT1ZMK2JuN3Fja0ZWeGYydW5Qc01WSDFXdGg4TnYyV1lZOXIralNQc3gxTXJOVWFrY0hLZVNtVTBVRlVIRnEKL1h0bjBEM0hWV0NXanNvT0d3NWttNWRsdjBucDBsUW9ZdjFwamVBR3p4YWhpeEFwTW5JeWR3L0dmQ0IvMEo5cgpTMmxOWGVzSnZJNmsvYVUrQ3JweitnZTRoZy9OTnVZUzNLeS8wTmoxcVhDdXNjL0tsUHZPeHo2VEZmUytiZFpUClBpT3ovWDhDYzZydXZGcXBNK05VeEppUTlJWnM0NGI2eU5zNW1WQmlIUS9FZGVlU283RDB3a1FuYUJzeFc2MTkKZ016TEtYODlzVXpleXhWTHdMekVNTzhVNEVJUnh3ZFFEdWZzTWRNVTN4NzQ0K3lieGxtRjB2blRqSmlpM0kxOQpRQ1RIYVo0Zmo2dTl1TG9PaWcwbUViNytpMDZuaWkrR1R5WXA0YnJtRE1EdlFBaWM3aER3dFVqVzNScVdtaEVGCkg0VnlqRk9iSlNJSmVsaTJveHNrQ04vRVVLVUtwZkQ0aC9lU3BIVFMzUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: ["CREATE", "DELETE"]
        apiGroups: ["*"]
        apiVersions: ["*"]
        resources: ["pods"]
    failurePolicy: Ignore
    reinvocationPolicy: IfNeeded
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: telegraf-operator
  namespace: telegraf-operator
  labels:
    app: telegraf-operator
spec:
  replicas: 1
  selector:
    matchLabels:
      app: telegraf-operator
  template:
    metadata:
      labels:
        app: telegraf-operator
    spec:
      serviceAccountName: telegraf-operator
      containers:
        - name: controller
          image: quay.io/influxdb/telegraf-operator:v1.1.1
          imagePullPolicy: IfNotPresent
          args:
            # for development purposes, enable internal plugin to report
            # telegraf metrics even if no other data is available
            - --enable-default-internal-plugin=false
            # default class to use if not specified by the pod
            - --telegraf-default-class=app
            - --telegraf-classes-directory=/config/classes
            # allow injecting telegraf-istio sidecar for pods with
            # istio sidecar annotations enabled
            #- --enable-istio-injection=true
          env:
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          ports:
            - name: https
              containerPort: 9443
              protocol: TCP
          resources:
            requests:
              memory: "256Mi"
              cpu: "256m"
            limits:
              memory: "256Mi"
              cpu: "256m"
          volumeMounts:
            - name: certs
              readOnly: true
              mountPath: "/etc/certs"
            - name: telegraf-operator-classes
              readOnly: true
              mountPath: "/config/classes"
      volumes:
        - name: certs
          secret:
            secretName: telegraf-operator-certs
        - name: telegraf-operator-classes
          secret:
            secretName: telegraf-operator-classes
---
apiVersion: v1
kind: Service
metadata:
  name: telegraf-operator
  namespace: telegraf-operator
  labels:
    app: telegraf-operator
spec:
  ports:
    - port: 443
      targetPort: 9443
      protocol: TCP
      name: https
  selector:
    app: telegraf-operator
---
apiVersion: v1
kind: Secret
metadata:
  name: telegraf-operator-certs
  namespace: telegraf-operator
data:
  tls.crt: 
    Q2VydGlmaWNhdGU6CiAgICBEYXRhOgogICAgICAgIFZlcnNpb246IDMgKDB4MikKICAgICAgICBTZXJpYWwgTnVtYmVyOiAxICgweDEpCiAgICAgICAgU2lnbmF0dXJlIEFsZ29yaXRobTogc2hhMjU2V2l0aFJTQUVuY3J5cHRpb24KICAgICAgICBJc3N1ZXI6IEM9VVMsIFNUPU1hcnlsYW5kLCBMPUJhbHRpbW9yZSwgTz1UZXN0IENBLCBMaW1pdGVkLCBPVT1TZXJ2ZXIgUmVzZWFyY2ggRGVwYXJ0bWVudCwgQ049VGVzdCBDQS9lbWFpbEFkZHJlc3M9dGVzdEBleGFtcGxlLmNvbQogICAgICAgIFZhbGlkaXR5CiAgICAgICAgICAgIE5vdCBCZWZvcmU6IE1heSAxMSAyMjoyNjoyNyAyMDIxIEdNVAogICAgICAgICAgICBOb3QgQWZ0ZXIgOiBGZWIgIDUgMjI6MjY6MjcgMjAyNCBHTVQKICAgICAgICBTdWJqZWN0OiBDPVVTLCBTVD1NRCwgTD1CYWx0aW1vcmUsIE89VGVzdCBTZXJ2ZXIsIExpbWl0ZWQsIENOPVRlc3QgU2VydmVyCiAgICAgICAgU3ViamVjdCBQdWJsaWMgS2V5IEluZm86CiAgICAgICAgICAgIFB1YmxpYyBLZXkgQWxnb3JpdGhtOiByc2FFbmNyeXB0aW9uCiAgICAgICAgICAgICAgICBSU0EgUHVibGljLUtleTogKDIwNDggYml0KQogICAgICAgICAgICAgICAgTW9kdWx1czoKICAgICAgICAgICAgICAgICAgICAwMDphZDo4ZToxYTozYToyYzpjNDo1NDpjMzphZDo3YjpkNjpjYTowMjpkYzoKICAgICAgICAgICAgICAgICAgICA5NTpmNTo1NzpmMTo3MTpkOTowNDphODplNzpmNDoyMTo4ZTpjODoxYjplYToKICAgICAgICAgICAgICAgICAgICA1Nzo2Njo5ZDo2ZDpiMzozOTo2NzphYzo0ZTo5OTozNDo5NTplNTo1YTpmNToKICAgICAgICAgICAgICAgICAgICA5Yjo3ZTo2MDo3Yzo1MDo5Zjo5OTozYzphZTo2YTowZTpjZjo2MDoxNzoxMjoKICAgICAgICAgICAgICAgICAgICAwMzo2OTozNjo0Yzo3OTpiOTo0ZjplZjo0NTo3Njo3MTozMzplMzpmZDo1OToKICAgICAgICAgICAgICAgICAgICBjNTozMzowYjo3ODozZDo0NDphNTo1NDowNzphMzpiMzphMDpiNTozNzpiMjoKICAgICAgICAgICAgICAgICAgICA0ODozZjo4NTozYzo0ZDo1NjphYzplNTpkMTozMzo0Mzo1NTo3ZTozNDoyNjoKICAgICAgICAgICAgICAgICAgICAyNjphNjoxZjozNTpjMTo4Zjo3ODo0ZDpjYjozNTo4ZTo4YTo2NzpiMTpmMToKICAgICAgICAgICAgICAgICAgICBmYjpjNzpjYTowYTplOTplNDpmZDoyZTplNDo4YTpjMzpkMDo3NjpjOTo5ZDoKICAgICAgICAgICAgICAgICAgICAzMjpmYTo3Mjo3YjphNDowYzo0Zjo0Mzo5ZDo5ODoxNjowYToyNDo4Mzo2NToKICAgICAgICAgICAgICAgICAgICBmZDpmYjoxZDo3YTpjYTpiNToyODphMzo3YzpiNTpmMzo4NzplNDo3ZjpiNDoKICAgICAgICAgICAgICAgICAgICAxMTozMDpiMzoyMzplYzoxZTo2ODo1ODpjMjo4MTpmZDo1ZDpkNTozMzo2ODoKICAgICAgICAgICAgICAgICAgICA3ODpmMjoyYzoxNjpiYzoyZTo4Yjo4NTo0OTo3MzowNTo3NDo3ODo4NDo3MjoKICAgICAgICAgICAgICAgICAgICA2OTo0NDo3Zjo1NDpkOTo4NTo0OTo5Mzo0Nzo5Yzo5YTo5MjpjMTplNjplOToKICAgICAgICAgICAgICAgICAgICAzNjo2MTpkNTo1Mzo4NToyMDo2NTo3NDpiMToyZjo0MDpiMDpmNjo3MzphYToKICAgICAgICAgICAgICAgICAgICBiNDplYzo5YjoyMjpjNTo3Yjo5OTpjNTo1MDo4NjoxNTpiMzo2Zjo2Nzo3ZDoKICAgICAgICAgICAgICAgICAgICBkNTowMjplYjoyMTozMDpkMTo1OTpkZDo1MjphNDplMTphNDo2MjowYzpkMToKICAgICAgICAgICAgICAgICAgICA4YjpkOQogICAgICAgICAgICAgICAgRXhwb25lbnQ6IDY1NTM3ICgweDEwMDAxKQogICAgICAgIFg1MDl2MyBleHRlbnNpb25zOgogICAgICAgICAgICBYNTA5djMgU3ViamVjdCBLZXkgSWRlbnRpZmllcjogCiAgICAgICAgICAgICAgICAxODozQzo1MzpCOTpBMjpGODpDNjo1QjpBQTowRjpGQzoyRDo1MDoyQjpGQjpEMzpFQjowNDpBRDpGNAogICAgICAgICAgICBYNTA5djMgQXV0aG9yaXR5IEtleSBJZGVudGlmaWVyOiAKICAgICAgICAgICAgICAgIGtleWlkOkRCOkFCOkJGOkI4OjIyOjBGOjhFOjdFOkY2OjAyOjJCOkI2OjBBOkNFOjc1OjZBOkNGOjAyOkZBOjMxCgogICAgICAgICAgICBYNTA5djMgQmFzaWMgQ29uc3RyYWludHM6IAogICAgICAgICAgICAgICAgQ0E6RkFMU0UKICAgICAgICAgICAgWDUwOXYzIEtleSBVc2FnZTogCiAgICAgICAgICAgICAgICBEaWdpdGFsIFNpZ25hdHVyZSwgS2V5IEVuY2lwaGVybWVudAogICAgICAgICAgICBYNTA5djMgU3ViamVjdCBBbHRlcm5hdGl2ZSBOYW1lOiAKICAgICAgICAgICAgICAgIEROUzp0ZWxlZ3JhZi1vcGVyYXRvci50ZWxlZ3JhZi1vcGVyYXRvci5zdmMsIEROUzp0ZWxlZ3JhZi1vcGVyYXRvci5zdmMKICAgICAgICAgICAgTmV0c2NhcGUgQ29tbWVudDogCiAgICAgICAgICAgICAgICBPcGVuU1NMIEdlbmVyYXRlZCBDZXJ0aWZpY2F0ZQogICAgU2lnbmF0dXJlIEFsZ29yaXRobTogc2hhMjU2V2l0aFJTQUVuY3J5cHRpb24KICAgICAgICAgNWE6ZTc6MWE6NGY6MWM6Y2E6MWI6NmY6YTM6ZjQ6ZjE6ZmM6NzA6ZmY6ODA6NTg6NzM6ZDM6CiAgICAgICAgIDc5Ojc4OmE3OmEyOmU2OmNjOmNjOjJiOmFkOmViOjMwOmYyOmQxOjI4OjEzOjk2OmI1OmIxOgogICAgICAgICAyZjoxMToxOTpmMTplMjpjOToyZDpmMTplYzo3NzoxNzo0NTpjNTpkNzo4OTo4Njo0MDo3YToKICAgICAgICAgZjk6ZTI6MWU6OTg6MDI6ZGY6Yjc6ZjE6ZDg6NzQ6NGQ6NzA6MjA6YjE6YWU6MTQ6N2M6ZjM6CiAgICAgICAgIDU3OmIyOjY3OjYxOjViOjdlOmVmOjY2OjkwOjdiOjJkOjQxOjUyOmU3OjA2OjcxOjEwOjA1OgogICAgICAgICA4YTo4Njo5ZDpmYTozODo2NzphYjowMjpmODpiNzo0MzpjMzo5YzpkOTpkOTo0ZTplZjoxZToKICAgICAgICAgYWI6OWY6MmI6N2U6ODU6OWU6Zjc6NWQ6Yzk6ZTk6MzE6MmE6ODA6Zjg6MWI6ZjI6YTc6NjE6CiAgICAgICAgIGMzOjBmOmRkOmMyOjI2OmMxOmQ2OjU0OjYyOjAwOjYzOjVjOmE4OmU4Ojk1Ojg1OmI2OmZiOgogICAgICAgICA0MzpiNDozNTo0OTpiMDozOTozZTozYTo4ZDpmYzo3YzpkNjo3ZTo0ODo0Mzo1YjowYjo3MDoKICAgICAgICAgOGE6OTE6OWM6NTQ6NTg6NTA6ZjE6MjE6ZmQ6ZWU6MmI6Zjc6NDg6ZjA6N2M6NDQ6Mzc6ZjU6CiAgICAgICAgIDBmOmQ3OmYwOjliOjg0OjAwOjBhOmE2OjU5OjkyOjBkOmY2OjgzOmEzOmYzOjk1OjJmOmU2OgogICAgICAgICBlNzplZTphNzoyNDoxNTo1Yzo1ZjpkYTplOTpjZjpiMDpjNTo0NzpkNTo2Yjo2MTpmMDpkYjoKICAgICAgICAgZjY6NTk6ODY6M2Q6YWY6ZTg6ZDI6M2U6Y2M6NzU6MzI6YjM6NTQ6NmE6NDc6MDc6Mjk6ZTQ6CiAgICAgICAgIGE2OjUzOjQ1OjA1OjUwOjcxOjZhOmZkOjdiOjY3OmQwOjNkOmM3OjU1OjYwOjk2OjhlOmNhOgogICAgICAgICAwZToxYjowZTo2NDo5Yjo5Nzo2NTpiZjo0OTplOTpkMjo1NDoyODo2MjpmZDo2OTo4ZDplMDoKICAgICAgICAgMDY6Y2Y6MTY6YTE6OGI6MTA6Mjk6MzI6NzI6MzI6Nzc6MGY6YzY6N2M6MjA6N2Y6ZDA6OWY6CiAgICAgICAgIDZiOjRiOjY5OjRkOjVkOmViOjA5OmJjOjhlOmE0OmZkOmE1OjNlOjBhOmJhOjczOmZhOjA3OgogICAgICAgICBiODo4NjowZjpjZDozNjplNjoxMjpkYzphYzpiZjpkMDpkODpmNTphOTo3MDphZTpiMTpjZjoKICAgICAgICAgY2E6OTQ6ZmI6Y2U6Yzc6M2U6OTM6MTU6ZjQ6YmU6NmQ6ZDY6NTM6M2U6MjM6YjM6ZmQ6N2Y6CiAgICAgICAgIDAyOjczOmFhOmVlOmJjOjVhOmE5OjMzOmUzOjU0OmM0Ojk4OjkwOmY0Ojg2OjZjOmUzOjg2OgogICAgICAgICBmYTpjODpkYjozOTo5OTo1MDo2MjoxZDowZjpjNDo3NTplNzo5MjphMzpiMDpmNDpjMjo0NDoKICAgICAgICAgMjc6Njg6MWI6MzE6NWI6YWQ6N2Q6ODA6Y2M6Y2I6Mjk6N2Y6M2Q6YjE6NGM6ZGU6Y2I6MTU6CiAgICAgICAgIDRiOmMwOmJjOmM0OjMwOmVmOjE0OmUwOjQyOjExOmM3OjA3OjUwOjBlOmU3OmVjOjMxOmQzOgogICAgICAgICAxNDpkZjoxZTpmODplMzplYzo5YjpjNjo1OTo4NTpkMjpmOTpkMzo4Yzo5ODphMjpkYzo4ZDoKICAgICAgICAgN2Q6NDA6MjQ6Yzc6Njk6OWU6MWY6OGY6YWI6YmQ6Yjg6YmE6MGU6OGE6MGQ6MjY6MTE6YmU6CiAgICAgICAgIGZlOjhiOjRlOmE3OjhhOjJmOjg2OjRmOjI2OjI5OmUxOmJhOmU2OjBjOmMwOmVmOjQwOjA4OgogICAgICAgICA5YzplZToxMDpmMDpiNTo0ODpkNjpkZDoxYTo5Njo5YToxMTowNToxZjo4NTo3Mjo4Yzo1MzoKICAgICAgICAgOWI6MjU6MjI6MDk6N2E6NTg6YjY6YTM6MWI6MjQ6MDg6ZGY6YzQ6NTA6YTU6MGE6YTU6ZjA6CiAgICAgICAgIGY4Ojg3OmY3OjkyOmE0Ojc0OmQyOmRkCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlGV3pDQ0EwT2dBd0lCQWdJQkFUQU5CZ2txaGtpRzl3MEJBUXNGQURDQnB6RUxNQWtHQTFVRUJoTUNWVk14CkVUQVBCZ05WQkFnTUNFMWhjbmxzWVc1a01SSXdFQVlEVlFRSERBbENZV3gwYVcxdmNtVXhHVEFYQmdOVkJBb00KRUZSbGMzUWdRMEVzSUV4cGJXbDBaV1F4SXpBaEJnTlZCQXNNR2xObGNuWmxjaUJTWlhObFlYSmphQ0JFWlhCaApjblJ0Wlc1ME1SQXdEZ1lEVlFRRERBZFVaWE4wSUVOQk1SOHdIUVlKS29aSWh2Y05BUWtCRmhCMFpYTjBRR1Y0CllXMXdiR1V1WTI5dE1CNFhEVEl4TURVeE1USXlNall5TjFvWERUSTBNREl3TlRJeU1qWXlOMW93WXpFTE1Ba0cKQTFVRUJoTUNWVk14Q3pBSkJnTlZCQWdNQWsxRU1SSXdFQVlEVlFRSERBbENZV3gwYVcxdmNtVXhIVEFiQmdOVgpCQW9NRkZSbGMzUWdVMlZ5ZG1WeUxDQk1hVzFwZEdWa01SUXdFZ1lEVlFRRERBdFVaWE4wSUZObGNuWmxjakNDCkFTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSzJPR2pvc3hGVERyWHZXeWdMY2xmVlgKOFhIWkJLam45Q0dPeUJ2cVYyYWRiYk01WjZ4T21UU1Y1VnIxbTM1Z2ZGQ2ZtVHl1YWc3UFlCY1NBMmsyVEhtNQpUKzlGZG5FejQvMVp4VE1MZUQxRXBWUUhvN09ndFRleVNEK0ZQRTFXck9YUk0wTlZmalFtSnFZZk5jR1BlRTNMCk5ZNktaN0h4KzhmS0N1bmsvUzdraXNQUWRzbWRNdnB5ZTZRTVQwT2RtQllLSklObC9mc2Rlc3ExS0tOOHRmT0gKNUgrMEVUQ3pJK3dlYUZqQ2dmMWQxVE5vZVBJc0Zyd3VpNFZKY3dWMGVJUnlhVVIvVk5tRlNaTkhuSnFTd2VicApObUhWVTRVZ1pYU3hMMEN3OW5PcXRPeWJJc1Y3bWNWUWhoV3piMmQ5MVFMcklURFJXZDFTcE9Ha1lnelJpOWtDCkF3RUFBYU9CMURDQjBUQWRCZ05WSFE0RUZnUVVHRHhUdWFMNHhsdXFEL3d0VUN2NzArc0VyZlF3SHdZRFZSMGoKQkJnd0ZvQVUyNnUvdUNJUGpuNzJBaXUyQ3M1MWFzOEMrakV3Q1FZRFZSMFRCQUl3QURBTEJnTlZIUThFQkFNQwpCYUF3U1FZRFZSMFJCRUl3UUlJbmRHVnNaV2R5WVdZdGIzQmxjbUYwYjNJdWRHVnNaV2R5WVdZdGIzQmxjbUYwCmIzSXVjM1pqZ2hWMFpXeGxaM0poWmkxdmNHVnlZWFJ2Y2k1emRtTXdMQVlKWUlaSUFZYjRRZ0VOQkI4V0hVOXcKWlc1VFUwd2dSMlZ1WlhKaGRHVmtJRU5sY25ScFptbGpZWFJsTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFCYQo1eHBQSE1vYmI2UDA4Znh3LzRCWWM5TjVlS2VpNXN6TUs2M3JNUExSS0JPV3RiRXZFUm54NHNrdDhleDNGMFhGCjE0bUdRSHI1NGg2WUF0KzM4ZGgwVFhBZ3NhNFVmUE5Yc21kaFczN3ZacEI3TFVGUzV3WnhFQVdLaHAzNk9HZXIKQXZpM1E4T2MyZGxPN3g2cm55dCtoWjczWGNucE1TcUErQnZ5cDJIREQ5M0NKc0hXVkdJQVkxeW82SldGdHZ0RAp0RFZKc0RrK09vMzhmTlorU0VOYkMzQ0trWnhVV0ZEeElmM3VLL2RJOEh4RU4vVVAxL0NiaEFBS3BsbVNEZmFECm8vT1ZMK2JuN3Fja0ZWeGYydW5Qc01WSDFXdGg4TnYyV1lZOXIralNQc3gxTXJOVWFrY0hLZVNtVTBVRlVIRnEKL1h0bjBEM0hWV0NXanNvT0d3NWttNWRsdjBucDBsUW9ZdjFwamVBR3p4YWhpeEFwTW5JeWR3L0dmQ0IvMEo5cgpTMmxOWGVzSnZJNmsvYVUrQ3JweitnZTRoZy9OTnVZUzNLeS8wTmoxcVhDdXNjL0tsUHZPeHo2VEZmUytiZFpUClBpT3ovWDhDYzZydXZGcXBNK05VeEppUTlJWnM0NGI2eU5zNW1WQmlIUS9FZGVlU283RDB3a1FuYUJzeFc2MTkKZ016TEtYODlzVXpleXhWTHdMekVNTzhVNEVJUnh3ZFFEdWZzTWRNVTN4NzQ0K3lieGxtRjB2blRqSmlpM0kxOQpRQ1RIYVo0Zmo2dTl1TG9PaWcwbUViNytpMDZuaWkrR1R5WXA0YnJtRE1EdlFBaWM3aER3dFVqVzNScVdtaEVGCkg0VnlqRk9iSlNJSmVsaTJveHNrQ04vRVVLVUtwZkQ0aC9lU3BIVFMzUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  tls.key: 
    LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQ3RqaG82TE1SVXc2MTcKMXNvQzNKWDFWL0Z4MlFTbzUvUWhqc2diNmxkbW5XMnpPV2VzVHBrMGxlVmE5WnQrWUh4UW41azhybW9PejJBWApFZ05wTmt4NXVVL3ZSWFp4TStQOVdjVXpDM2c5UktWVUI2T3pvTFUzc2tnL2hUeE5WcXpsMFRORFZYNDBKaWFtCkh6WEJqM2hOeXpXT2ltZXg4ZnZIeWdycDVQMHU1SXJEMEhiSm5UTDZjbnVrREU5RG5aZ1dDaVNEWmYzN0hYcksKdFNpamZMWHpoK1IvdEJFd3N5UHNIbWhZd29IOVhkVXphSGp5TEJhOExvdUZTWE1GZEhpRWNtbEVmMVRaaFVtVApSNXlha3NIbTZUWmgxVk9GSUdWMHNTOUFzUFp6cXJUc215TEZlNW5GVUlZVnMyOW5mZFVDNnlFdzBWbmRVcVRoCnBHSU0wWXZaQWdNQkFBRUNnZ0VBVnBVNUFtTEpBNXluVk11LzloT0VBR1VDUUJETFlWUnVsN3M2bTZxYU5jZysKTFJacllTdkpCTkh2SFNUQWtSaWpqRGxDNG1JRTZTU054SlNvL1Brb3grVXFPcTFGdkkzdHBMdi9SRXJwam05TApwNU0wR080STJpTm9KY0JiYUIzZ25icHpQNWxNSDhvVXAvV1VCTitGWGhJTnd2SExiNXZRUjBqRmp4QTlPd0hZCjFlaFlFZ0JISkJMYnJlbm5Eb1lDTXZuTDFHWFlQTXo0Snp6VG1NUjRkRjNvNThMMktISmN1WnM1dUMxSk5NVk0KMzNPTGc2MGhPeXRhNWNYZjN2ZHRlb3loYkxwM3d3SEt5UUI2em45M24zbXFSdDBZMFpvQ1BJUFlpMXFEams5dQpuOU1wTXVaRTNyQXBPalBzN2JQb0c0UXo5ekZjdjdla3VwVVhBWG15QVFLQmdRRFhvL1ZzTVNqRHYrMFVtZy9JCjdOZTZ4YS95b3FSa2JMdHhYUk5wV3Evc0wwQTRobG5tNG93cllHMFh5YjhIL1p0ZDBVYjhudWdkeWRqNzNnME0KNlBVUnZPaG95N0tEaUIyL25UdzJpMm9LYzc0cjl0QWlNY2lkUjRJUU1iR2FyWm9ON3hha21ZYklnWHlOTkxoaAo4NDRZUENIby9wMEZjSktncjNmeWlhZ0FtUUtCZ1FET0NiSUxRaVNEWFUwOWdNRVlnVWY2RXNrWGcxVDRWU1Q2CnN0RSt0RWZ6a0hGaE4xL05yb0xpbjBDUm0wNTZBYWFJS2pMQVBZNU5oZmlXZnVIWExVeGl5MC92YUZtbXFCL2oKZzRlUFFMSnJ2aHN6NFp3VUF6cHZ3N2JPVW8zRkxJY2NyaCtrbThHa2ltZ3BrQVNTbnFCcDZxOFNVYyt6SnAwNwpkejR3ZGhLdFFRS0JnRW1sRnpZaCs5Z09mZnRoT2k3V3BENkhNVFhlVWVKeU4vblpYYjNIV1BtQ2taNDhWQXZFCkp6YlJNYkRFRjllMHh4RGRYaTc4WGkxK04vcWN0VHhKZXhqWnVVM0E4M0IwVmlTUW9IWElXeWpDcXBuOUtzdmkKMEs3V014Y3d3WVVmOE5MOWFuQkFkb1dYbzEvZU4zSk1hYVRoTkh1TUtUZ29ZQXM4b2V4VkV1bFJBb0dCQUpoeQpyZzBNZkkzQ1BFTjBmK3RNeE4vd2hGL2thYnR3N0hLZVdwcGx0Qk13WGVQTG9CUkV1azFKL2ZGK2sxdE0yMVpHCnV0Um85MkMrN3NjVHpMQjBzTjhzaGRHalNTbzVuWmF1bkYvUFEvVGFiYkErajBoemR3cDVLa3FRNUpydXJtMzMKSEN5a25tdkxpUFN2dmVKcWdsQzhONXQ3Y3cyZ1ZaaEpTM2Q1OWFuQkFvR0FUNDhDVEJOT1gxKzBXWU82aGlJbgp5RjhDKzdtWkFOaERGcS9Oc3VIOHJkMS9NbnlGT0xYOXRkMzdYaGlqczIrcldydWVWMms2MFBEM1VsOURTZzV5Cmt6VW1pMkwwU085WDFWM2JYcjlhb1hta3cyV0svazQ0ckZiaC83SG55SWFqT0cvZ1pwLytTVmU5WkpYeVpMb1kKeGZWLzZRd0w0eEhJUFM1L0tqQ1dCYXM9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
type: kubernetes.io/tls
---
apiVersion: v1
kind: Secret
metadata:
  name: telegraf-operator-classes
  namespace: telegraf-operator
stringData:
  # basic classes that can be used to develop telegraf-operator ; these classes
  # report to InfluxDB v1 in same cluster as well as to stdout for convenience
  app: |+
    [[outputs.influxdb]]
      urls = ["http://influxdb:8086"]
    [[outputs.file]]
      files = ["stdout"]
    [global_tags]
      hostname = "$HOSTNAME"
      nodename = "$NODENAME"
      type = "app"
